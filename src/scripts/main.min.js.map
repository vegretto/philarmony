{"version":3,"sources":["main.js"],"names":["$","document","ready","div","createElement","style","overflowY","width","height","body","append","scrollWidth","offsetWidth","clientWidth","remove","checkBrowser","ifChromeCb","arguments","length","undefined","ifOthersCb","isChromium","window","chrome","winNav","navigator","vendorName","vendor","isOpera","opr","isIEedge","userAgent","indexOf","renderClickableBG","isDark","elementToClose","renderParent","blockScroll","css","padding-right","overflow-y","addClass","fadeOut","fadeIn","on","this","removeClass","e","preventDefault","modalToOpen","attr","concat","modalToClose","parents","find","slick","autoplay","autoplaySpeed","prevArrow","nextArrow","infinite","speed","adaptiveHeight","currentSlide","nextYear","next","text","prevYear","prev","slideWidth","outerWidth","sliderWidth","slidesNum","Math","round","loadScript","url","callback","script","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild","slidesToShow","slidesToScroll","swipe","responsive","breakpoint","settings","swipeToSlide","variableWidth","centerMode","touchThreshold","mapsToLoad","id","init","forEach","item","mapId","mapJsonPath","myGeoObjects","pointCenterCoords","getJSON","data","pointsNum","point","balloonInner","name","address","placemark","ymaps","Placemark","coords","balloonContent","iconLayout","iconImageHref","iconImageSize","iconOffset","balloonOffset","hideIconOnBalloonOpen","push","Number","myMap","Map","center","zoom","controls","geoObjects","add","behaviors","disable","check_if_load","slideToggle","toggleClass","screen","foldingPart","header","headerHeight","foldedHeight","scrollTop","hasClass","hide","show","position","top","clearTimeout","resizedFinished","setTimeout","circleText","elementId","radius","radiusMob","getElementById","circleType","CircleType","moveElement","element","target","screenSize","after","i","eq","appendTo","prependTo","each","checkVisible","elem","eventName","elemsNum","off","vThis","visible","playlists","iframe","start","dropdown","parent","initialBtnText","initialStartHeight","isStartDateExist","isEndDateExist","startSlide","thisSlide","nextUntil","prevUntil","initHeight","animate","querySelector","cursor","mouseMove","pos","left","x","y","mouseMoveHandler","dx","clientX","dy","clientY","scrollLeft","mouseUpHandler","removeProperty","removeEventListener","querySelectorAll","addEventListener","userSelect","swipeScroll","split","vTour","swf","xml","embedpano","html5","passQueryParameters","elemToScroll","documentElement","offset","tagName","toLowerCase","isChecked","prop","currentPos","sectionLink","navHeight","outerHeight","section","IMask","mask","definitions","#"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    /*--Overflow scroll glitch fix---*/\r\n\r\n    let div = document.createElement('div');\r\n\r\n    div.style.overflowY = 'scroll';\r\n    div.style.width = '50px';\r\n    div.style.height = '50px';\r\n\r\n    document.body.append(div);\r\n    let scrollWidth = div.offsetWidth - div.clientWidth;\r\n    div.remove();\r\n\r\n    /*--CHECK BROWSERS FUNCTION---*/\r\n\r\n    let checkBrowser = (ifChromeCb=() => {}, ifOthersCb=() => {}) => {\r\n        let isChromium = window.chrome;\r\n        let winNav = window.navigator;\r\n        let vendorName = winNav.vendor;\r\n        let isOpera = typeof window.opr !== \"undefined\";\r\n        let isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1;\r\n\r\n\r\n        if (\r\n            isChromium !== null &&\r\n            typeof isChromium !== \"undefined\" &&\r\n            vendorName === \"Google Inc.\" &&\r\n            isOpera === false &&\r\n            isIEedge === false\r\n        ) {\r\n            ifChromeCb();\r\n        } else {\r\n            ifOthersCb();\r\n        }\r\n\r\n    }\r\n\r\n    /*------ MODALS ---------*/\r\n    let renderClickableBG = (isDark, elementToClose, renderParent=$('body'), blockScroll=true) => {\r\n        renderParent.append('<div class=\"clickable-bg\"></div>');\r\n        if (blockScroll) {\r\n            $('body').css({\r\n                'padding-right': scrollWidth,\r\n                'overflow-y': 'hidden',\r\n\r\n            });\r\n        }\r\n        if (isDark) {\r\n            $('.clickable-bg').addClass('clickable-bg--dark').fadeOut(1).fadeIn(400);\r\n        }\r\n        $('.clickable-bg').on('click', function () {\r\n            $(this).remove();\r\n            if (elementToClose) {\r\n                elementToClose.removeClass('opened');\r\n                if (blockScroll) {\r\n                    $('body').css({\r\n                        'padding-right': 0,\r\n                        'overflow-y': 'auto',\r\n                    });\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    $('.js-open-modal').on('click', function (e) {\r\n        e.preventDefault();\r\n        let modalToOpen = $(this).attr('data-modal');\r\n        $(`#${modalToOpen}`).addClass('opened').fadeOut(1).fadeIn(400);\r\n        renderClickableBG(true, $(`#${modalToOpen}`), $(`#${modalToOpen}`))\r\n    })\r\n\r\n    $('.js-close-modal').on('click', function () {\r\n        let modalToClose = $(this).parents('.modal');\r\n        modalToClose.removeClass('opened');\r\n        $('body').css({\r\n            'padding-right': 0,\r\n            'overflow-y': 'auto',\r\n        });\r\n        modalToClose.find(('.clickable-bg')).remove();\r\n    })\r\n\r\n    /*------ SLIDERS ---------*/\r\n\r\n    $('.js-main-slider').slick({\r\n        autoplay: true,\r\n        autoplaySpeed: 4000,\r\n        prevArrow: $('.main-block-wrapper .pretty-arrow--prev'),\r\n        nextArrow: $('.main-block-wrapper .pretty-arrow--next'),\r\n    });\r\n\r\n\r\n    $('.js-history-slider').slick({\r\n        infinite: false,\r\n        prevArrow: $('.history-slider__wrapper .history-slider__arrow-wrapper--prev'),\r\n        nextArrow: $('.history-slider__wrapper .history-slider__arrow-wrapper--next'),\r\n        speed: 350,\r\n        adaptiveHeight: true,\r\n    });\r\n\r\n    $('.js-history-slider').on('afterChange', function(){\r\n        let currentSlide = $('.slick-current');\r\n        let nextYear = currentSlide.next().find('.history-slider__slide-year').text();\r\n        let prevYear = currentSlide.prev().find('.history-slider__slide-year').text();\r\n        $('.history-slider__arrow-wrapper--prev .history-slider__side-year').text(prevYear);\r\n        $('.history-slider__arrow-wrapper--next .history-slider__side-year').text(nextYear);\r\n\r\n    });\r\n\r\n\r\n    let slideWidth = $('.filters__datepicker-day').outerWidth();\r\n    let sliderWidth = $('.js-datepicker-day-slider').outerWidth();\r\n    let slidesNum = Math.round(sliderWidth / slideWidth);\r\n\r\n    $('.js-datepicker-day-slider').slick({\r\n        infinite: false,\r\n        slidesToShow: slidesNum,\r\n        slidesToScroll: 7,\r\n        swipe: false,\r\n        prevArrow: $('.filters__datepicker-wrapper .common-arrow--prev'),\r\n        nextArrow: $('.filters__datepicker-wrapper .common-arrow--next'),\r\n        responsive: [\r\n            {\r\n                breakpoint: 599,\r\n                settings: {\r\n                    slidesToScroll: 1,\r\n                    swipe: true,\r\n                    prevArrow: null,\r\n                    nextArrow: null,\r\n                    swipeToSlide: true,\r\n                }\r\n            },\r\n        ],\r\n    });\r\n\r\n    $('.js-gallery-slider').slick({\r\n        slidesToShow: 3,\r\n        slidesToScroll: 1,\r\n        variableWidth: true,\r\n        centerMode: true,\r\n        swipeToSlide: true,\r\n        touchThreshold: 10,\r\n        prevArrow: $('.gallery-slider-wrapper .pretty-arrow--prev'),\r\n        nextArrow: $('.gallery-slider-wrapper .pretty-arrow--next'),\r\n        responsive: [\r\n            {\r\n                breakpoint: 599,\r\n                settings: {\r\n                    slidesToShow: 1,\r\n                    variableWidth: false,\r\n                    centerMode: true,\r\n                }\r\n            },\r\n        ],\r\n    })\r\n\r\n\r\n\r\n    /*------ MOBILE MENU ---------*/\r\n    $('.js-open-mobile-menu').on('click', function () {\r\n        $('.mobile-menu').addClass('opened');\r\n        renderClickableBG(true, $('.mobile-menu'))\r\n    })\r\n\r\n    $('.js-close-mobile-menu').on('click', function () {\r\n        $('.mobile-menu').removeClass('opened');\r\n        $('.clickable-bg').remove();\r\n        $('body').css({\r\n            'padding-right': scrollWidth,\r\n            'overflow-y': 'auto',\r\n        });\r\n    })\r\n\r\n    /*--MAPS--*/\r\n    function loadScript(url, callback){\r\n\r\n        var script = document.createElement(\"script\");\r\n\r\n        if (script.readyState){  //IE\r\n            script.onreadystatechange = function(){\r\n                if (script.readyState == \"loaded\" ||\r\n                    script.readyState == \"complete\"){\r\n                    script.onreadystatechange = null;\r\n                    callback();\r\n                }\r\n            };\r\n        } else {\r\n            script.onload = function(){\r\n                callback();\r\n            };\r\n        }\r\n        script.src = url;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n    }\r\n\r\n    //Айдишники и параметры карт для загрузки\r\n    let mapsToLoad = [\r\n        {\r\n            id: 'map-single',\r\n        },\r\n        {\r\n            id: 'map-multi',\r\n        },\r\n    ]\r\n\r\n    function init(){\r\n        // Создание карт.\r\n        function prepareMap (mapId) {\r\n            let mapJsonPath = $('#' + mapId).attr('data-json');\r\n            let myGeoObjects = [];\r\n            let pointCenterCoords = [0, 0];\r\n            $.getJSON(mapJsonPath, function(data) {\r\n                let pointsNum = data.length;\r\n                data.forEach(point => {\r\n                    let balloonInner =\r\n                        `<div class=\"custom-balloon\">\r\n                                <div class=\"custom-balloon__text\"><b>${point.name}</b></div>\r\n                                <div class=\"custom-balloon__text\">${point.address}</div>\r\n                         </div>`\r\n\r\n                    let placemark = new ymaps.Placemark(point.coords, {\r\n                            balloonContent: balloonInner,\r\n                        },\r\n                        {\r\n                            iconLayout: 'default#image',\r\n                            iconImageHref: 'img/svg/point.svg',\r\n                            iconImageSize: [50, 60],\r\n                            iconOffset: [-15, -30],\r\n                            balloonOffset: [-2, -65],\r\n                            hideIconOnBalloonOpen: false,\r\n                        }\r\n                    );\r\n\r\n                        myGeoObjects.push(placemark)\r\n                        pointCenterCoords[0] +=Number(point.coords[0]);\r\n                        pointCenterCoords[1] +=Number(point.coords[1]);\r\n                })\r\n\r\n                pointCenterCoords[0] = pointCenterCoords[0] / pointsNum;\r\n                pointCenterCoords[1] = pointCenterCoords[1] / pointsNum;\r\n                let myMap = new ymaps.Map(mapId, {\r\n                    center: pointCenterCoords,\r\n                    zoom: pointsNum === 1 ? 16 : 10,\r\n                    controls: ['zoomControl'],\r\n                });\r\n\r\n                myGeoObjects.forEach(item => {\r\n                    myMap.geoObjects.add(item);\r\n                })\r\n                myMap.behaviors.disable('scrollZoom');\r\n            });\r\n        }\r\n\r\n        mapsToLoad.forEach(item => {\r\n            if ($('#' + item.id).length > 0) {\r\n                prepareMap(item.id)\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    let check_if_load = false;\r\n    const checkLoadMap = () => {\r\n        if (!check_if_load) {\r\n            check_if_load = true;\r\n            loadScript(\"https://api-maps.yandex.ru/2.1/?apikey=04709a29-6f21-442a-9cb5-272b39900456&lang=ru_RU\", function(){\r\n                ymaps.ready(init);\r\n            });\r\n        }\r\n    }\r\n\r\n    if ($('.map-container').length > 0) {\r\n        checkLoadMap();\r\n    }\r\n\r\n    /*--END Maps--*/\r\n\r\n\r\n    /*------ MISC ---------*/\r\n    $('.js-unfold-nav').on('click', function () {\r\n        $('.header__secondary-nav-wrapper').slideToggle().toggleClass('opened');\r\n        $(this).toggleClass('opened');\r\n    });\r\n\r\n    if (screen.width >= 991) {\r\n        let foldingPart = $('.header__secondary-nav-wrapper')\r\n        let header = $('.header');\r\n        let headerHeight = header.height();\r\n        let foldedHeight = headerHeight - foldingPart.height();\r\n\r\n        $(document).on('scroll', function () {\r\n            if ($(document).scrollTop() >= headerHeight && !header.hasClass('folded')) {\r\n                header.addClass('folded');\r\n                headerHeight = foldedHeight;\r\n                checkBrowser(undefined, function () {\r\n                    $('.header__logo-box').css({\r\n                        'height': headerHeight,\r\n                    })\r\n\r\n                })\r\n                if (!foldingPart.hasClass('opened')) {\r\n                    foldingPart.hide();\r\n                }\r\n            }\r\n            else if ($(document).scrollTop() < headerHeight && header.hasClass('folded')) {\r\n                header.removeClass('folded');\r\n                headerHeight = header.height();\r\n                checkBrowser(undefined, function () {\r\n                    $('.header__logo-box').css({\r\n                        'height': headerHeight,\r\n                    })\r\n                })\r\n                foldingPart.show();\r\n            }\r\n        })\r\n    }\r\n    if (screen.width <= 600) {\r\n        if ($('.history-slider').length > 0) {\r\n            $('.history-slider__arrow-wrapper').css('top', $('.history-slider__img').position().top + $('.history-slider__img').height() - 20)\r\n            $(window).on('resize', function () {\r\n                clearTimeout(window.resizedFinished);\r\n                window.resizedFinished = setTimeout(function () {\r\n                    $('.history-slider__arrow-wrapper').css('top', $('.history-slider__img').position().top + $('.history-slider__img').height() + 65)\r\n                }, 250);\r\n            })\r\n        }\r\n    }\r\n\r\n    let circleText = (elementId, radius, radiusMob) => {\r\n        if (document.getElementById(elementId) != null) {\r\n            const circleType = new CircleType(document.getElementById(elementId)).radius(radius);\r\n            if (screen.width < 768) {\r\n                circleType.radius(radiusMob);\r\n            }\r\n        }\r\n    }\r\n\r\n    circleText('js-circle-text', 155, 140);\r\n    $('#js-circle-text').css('transform', 'rotate(-30deg)');\r\n\r\n    circleText('js-show-more-circle', 60, 60);\r\n\r\n\r\n    let moveElement = (element, target, screenSize, append=true, after=false) => {\r\n        if (screen.width < screenSize) {\r\n            if (after) {\r\n                for (let i = 0; i < $(element).length; i++) {\r\n                    $(target).eq(i).after($(element).eq($(target).length === 1 ? 0 : i))\r\n                }\r\n            } else {\r\n                if (append) {\r\n                    for (let i = 0; i < $(element).length; i++) {\r\n                        $(element).eq(i).appendTo($(target).eq($(target).length === 1 ? 0 : i))\r\n                    }\r\n                } else {\r\n                    for (let i = 0; i < $(element).length; i++) {\r\n                        $(element).eq(i).prependTo($(target).eq($(target).length === 1 ? 0 : i))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    moveElement('.main-block__infobox', '.main-block__item-content', 768);\r\n    moveElement('.events-item__type', '.events-item__bottom', 600, false);\r\n    moveElement('.events-item__duration', '.events-item__title', 600, false, true);\r\n    moveElement('.filters__item.mobile-move', '.filters__dropdown.mobile-only .filters__dropdown-box-inner', 600);\r\n    moveElement('.filters__events-num', '.filters__bottom-right', 600, false);\r\n    moveElement('.labels--main-block', '.main-block__item-img', 767);\r\n    moveElement('.main-block--event .labels--static', '.main-block__item-img', 767);\r\n    moveElement('.main-block--event .main-block__infobox-price', '.main-block__infobox-duration', 767, false, true);\r\n    if (screen.width < 992) {\r\n        $('.events-item--horizontal .events-item__left').each(function () {\r\n            $(this).removeClass('events-item__left').addClass('events-item__top-content');\r\n            moveElement($(this), $(this).parents('.events-item').find('.events-item__img'), 991, false, true);\r\n        })\r\n    }\r\n    moveElement('.events-item--horizontal .events-item__bottom-right .events-item__inner', '.events-item--horizontal .events-item__top-content', 991, true );\r\n    moveElement('.events-item--horizontal .events-item__additional-dates', '.events-item--horizontal .events-item__bottom', 991, true );\r\n    moveElement('.events-item--horizontal .common-btn--blue', '.events-item--horizontal .events-item__bottom-box', 991, true );\r\n    moveElement('.main-person__dignity', '.main-person__info', 991, false );\r\n    moveElement('.main-block__infobox-duration', '.main-block__infobox-top', 767, true );\r\n    moveElement('.history-slider__slide-year', '.history-slider__img', 991, false, true );\r\n    moveElement('.event-info__artists', '.event-info__programm', 991, false, true );\r\n\r\n\r\n    let checkVisible = (elem, eventName, callback) => {\r\n        let i = 0;\r\n        let elemsNum = elem.length;\r\n\r\n        $(document).on(`scroll.${eventName}`, function () {\r\n            elem.each(function () {\r\n                i = callback($(this), i);\r\n                if (i >= elemsNum) {\r\n                    $(document).off(`scroll.${eventName}`);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    if (screen.width > 1199) {\r\n        checkVisible($('.infoblock__img'),'scroll.infoblock',  function (vThis, i) {\r\n            if (vThis.visible(true) && !vThis.hasClass('visible')) {\r\n                vThis.parents('.infoblock__img-wrapper').find('.infoblock__img').addClass('visible');\r\n                i += 2;\r\n            }\r\n            return i;\r\n        });\r\n    }\r\n\r\n    checkVisible($('.big-links-block--style2 .big-links__item'),'scroll.biglinks',  function (vThis, i) {\r\n        if (vThis.visible(true) && !vThis.hasClass('visible')) {\r\n            vThis.addClass('visible');\r\n            i++;\r\n        }\r\n        return i;\r\n    });\r\n\r\n\r\n    let playlists = $('.playlists__item');\r\n    checkBrowser(\r\n        function () {\r\n            playlists.each(function () {\r\n                let iframe = $(this).find('iframe');\r\n                iframe.attr('src', iframe.attr('data-src'));\r\n            })\r\n         },\r\n        function () {\r\n            checkVisible(playlists, 'scroll.playlist', function (vThis, i) {\r\n                if (vThis.visible(true)) {\r\n                    let iframe = vThis.find('iframe');\r\n                    if (iframe.attr('src') === undefined) {\r\n                        iframe.attr('src', iframe.attr('data-src'));\r\n                    }\r\n                    i++;\r\n                }\r\n                return i;\r\n            })\r\n        }\r\n    )\r\n\r\n\r\n    if (screen.width <= 600) {\r\n        $('.js-footer-dropdown').on('click', function () {\r\n            let element = $(this).next('.footer__nav--mobile-folded')\r\n            $(this).next('.footer__nav--mobile-folded').slideToggle({\r\n                start: function () {\r\n                    $(this).css('display', 'block')\r\n                }\r\n            }).toggleClass('opened');\r\n            element.css('display', 'block');\r\n            $(this).toggleClass('opened');\r\n        })\r\n    }\r\n\r\n    $('.js-open-dropdown').on('click', function () {\r\n        $('.js-open-dropdown').removeClass('opened');\r\n        let dropdown = $(this).parent().find('.js-dropdown');\r\n        if (dropdown.hasClass('opened')) {\r\n            dropdown.removeClass('opened')\r\n            $('.clickable-bg').remove();\r\n        }\r\n        else {\r\n            $('.js-dropdown.opened').removeClass('opened');\r\n            dropdown.toggleClass('opened');\r\n            $('.clickable-bg').remove();\r\n            renderClickableBG(false, dropdown, $('body'), false);\r\n        }\r\n\r\n    })\r\n\r\n    $('.js-toggle-active').on('click', function () {\r\n        if ($(this).parent().hasClass('js-toggle-active-one-minimum')) {\r\n            if (!$(this).hasClass('active') || $(this).parent().find('.js-toggle-active.active').length !== 1) {\r\n                $(this).toggleClass('active');\r\n                $(this).parent().find('.js-toggle-active-all').removeClass('active');\r\n            }\r\n        }\r\n        else {\r\n            $(this).toggleClass('active');\r\n        }\r\n    });\r\n\r\n    $('.js-toggle-active-all').on('click', function () {\r\n        $(this).parent().find('.js-toggle-active').removeClass('active');\r\n        $(this).toggleClass('active');\r\n    });\r\n\r\n    $('.filters__view').on('click', function () {\r\n        $('.filters__view').removeClass('active');\r\n        $(this).addClass('active');\r\n    });\r\n\r\n    $('.js-clear').on('click', function () {\r\n        $('.filters__item, .filters__datepicker-month-item').removeClass('active');\r\n        $('.filters__datepicker-day').removeClass('selected in-range start-date end-date');\r\n    });\r\n\r\n    let isStartDateExist = false;\r\n    let isEndDateExist = false;\r\n    $('.filters__datepicker-day:not(\".filters__datepicker-day--breaker\")').on('click', function () {\r\n        if (isEndDateExist) {\r\n            $('.filters__datepicker-day').removeClass('selected in-range start-date end-date');\r\n            isStartDateExist = false;\r\n            isEndDateExist = false;\r\n        }\r\n        if (!$(this).hasClass('selected')) {\r\n            $(this).addClass('selected')\r\n            if (!isStartDateExist) {\r\n                $(this).addClass('start-date');\r\n                isStartDateExist = true;\r\n            }\r\n            else {\r\n                $(this).addClass('end-date');\r\n                isEndDateExist = true;\r\n                let startSlide =$('.filters__datepicker-day.start-date').parents('.slick-slide');\r\n                let thisSlide = $(this).parents('.slick-slide');\r\n\r\n                if (Number(startSlide.attr('data-slick-index')) < Number(thisSlide.attr('data-slick-index'))) {\r\n                    startSlide.nextUntil(thisSlide).each(function () {\r\n                        $(this).find($('.filters__datepicker-day')).addClass('in-range');\r\n                    });\r\n                } else {\r\n                    startSlide.prevUntil(thisSlide).each(function () {\r\n                        $(this).find($('.filters__datepicker-day')).addClass('in-range');\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            $(this).removeClass('selected')\r\n        }\r\n    });\r\n    let initialBtnText;\r\n    let initialStartHeight;\r\n    $('.js-read-more-toggle').on('click', function () {\r\n        let initHeight = $(this).prev('.js-read-more-wrapper').find($('.js-read-more-container')).height();\r\n        if (!$(this).hasClass('opened')) {\r\n            initialBtnText = $(this).text();\r\n            initialStartHeight = $(this).prev('.js-read-more-wrapper').height();\r\n            $(this).prev('.js-read-more-wrapper').animate({\r\n                height: initHeight\r\n            }, 300);\r\n            $(this).addClass('opened');\r\n            $(this).text('Скрыть');\r\n        } else {\r\n            $(this).prev('.js-read-more-wrapper').animate({\r\n                height: initialStartHeight,\r\n            }, 300);\r\n            $(this).removeClass('opened');\r\n            $(this).text(initialBtnText);\r\n        }\r\n    });\r\n\r\n    function swipeScroll(element) {\r\n        const item = document.querySelector(element);\r\n        if(item !== null) {\r\n            item.style.cursor = 'grab';\r\n            let mouseMove = false;\r\n\r\n            let pos = {top: 0, left: 0, x: 0, y: 0};\r\n\r\n            const mouseDownHandler = function (e) {\r\n                item.style.cursor = 'grabbing';\r\n                item.style.userSelect = 'none';\r\n\r\n                pos = {\r\n                    left: item.scrollLeft,\r\n                    top: item.scrollTop,\r\n                    x: e.clientX,\r\n                    y: e.clientY,\r\n                };\r\n\r\n                document.addEventListener('mousemove', mouseMoveHandler);\r\n                document.addEventListener('mouseup', mouseUpHandler);\r\n            };\r\n\r\n            const mouseMoveHandler = function (e) {\r\n                const dx = e.clientX - pos.x;\r\n                const dy = e.clientY - pos.y;\r\n\r\n                item.scrollTop = pos.top - dy;\r\n                item.scrollLeft = pos.left - dx;\r\n                mouseMove = true;\r\n            };\r\n\r\n            const mouseUpHandler = function (e) {\r\n                item.style.cursor = 'grab';\r\n                item.style.removeProperty('user-select');\r\n\r\n                document.removeEventListener('mousemove', mouseMoveHandler);\r\n                document.removeEventListener('mouseup', mouseUpHandler);\r\n            };\r\n\r\n\r\n            item.querySelectorAll(element + '> *').forEach(function (elem) {\r\n                elem.addEventListener('click', function (e) {\r\n                    if (mouseMove) {\r\n                        e.preventDefault();\r\n                    }\r\n                    mouseMove = false;\r\n                })\r\n\r\n            });\r\n\r\n            $(element).on(\"dragstart\", function() {\r\n                return false;\r\n            });\r\n\r\n            item.addEventListener('mousedown', mouseDownHandler);\r\n        }\r\n    }\r\n\r\n    if (screen.width > 1199) {\r\n        $('.js-swipe-scroll').each(function () {\r\n            swipeScroll(`.${$(this).attr(\"class\").split(/\\s+/)[0]}`);\r\n        })\r\n        $('.js-swipe-scroll > *').attr('draggable', 'false');\r\n        $('.js-swipe-scroll img').attr('draggable', 'false');\r\n    }\r\n\r\n    let vTour = $('#virtual-tour-box');\r\n    if (vTour.length > 0) {\r\n        loadScript('data/virtual-tour/tour.js', function () {\r\n            let swf = vTour.attr('data-swf');\r\n            let xml = vTour.attr('data-xml');\r\n            embedpano({swf:swf, xml:xml, target:\"virtual-tour-box\", html5:\"auto\", passQueryParameters:true});\r\n        });\r\n    }\r\n\r\n    $('.js-scroll-to').on('click', function (e) {\r\n        e.preventDefault();\r\n        let elemToScroll = $(this).attr('href');\r\n        $([document.documentElement, document.body]).animate({\r\n            scrollTop: $(elemToScroll).offset().top - $('header').height()\r\n        }, 1000);\r\n    });\r\n\r\n    $('.js-checkbox').on('click',function (e) {\r\n        if (e.target.tagName.toLowerCase() !== 'a') {\r\n            e.preventDefault()\r\n            let isChecked = $(this).find('.custom-checkbox').prop('checked');\r\n            $(this).toggleClass('checked').find('.custom-cb-badge').toggleClass('checked');\r\n            $(this).find('.custom-checkbox').prop('checked', !isChecked);\r\n        }\r\n    });\r\n\r\n    let watchScroll = (element) => {\r\n        $(window).on(\"scroll\", function() {\r\n            var currentPos = $(window).scrollTop();\r\n            element.each(function() {\r\n                var sectionLink = $(this);\r\n\r\n                var navHeight = $('.header').outerHeight() + 1;\r\n                var section = $(sectionLink.attr('href'));\r\n                if(section.position().top - navHeight  <= currentPos && sectionLink.offset().top + section.height() > currentPos) {\r\n                    element.removeClass('current');\r\n                    sectionLink.addClass('current');\r\n                } else {\r\n                    sectionLink.removeClass('current');\r\n                }\r\n            });\r\n        });\r\n    }\r\n    if ($('.js-scroll-watch').length > 0) {\r\n        watchScroll($('.js-scroll-watch'));\r\n    }\r\n\r\n    $('.js-close-cookie').on('click', function () {\r\n       $('.cookies-disclaimer').removeClass('show');\r\n    });\r\n\r\n    let elements = document.querySelectorAll(\"input[type='tel']\");\r\n    elements.forEach(function (element) {\r\n        let dynamicMask = IMask(element, {\r\n            mask: [\r\n                {\r\n                    mask: '+{7}(#00)000-00-00',\r\n                    definitions: {\r\n                        '#': /[12345690]/\r\n                    }\r\n                },\r\n                {\r\n                    mask: '{#}(000)000-00-00',\r\n                    definitions: {\r\n                        '#': /[8]/\r\n                    }\r\n                },{\r\n                    mask: '{+#}(000)000-00-00',\r\n                    definitions: {\r\n                        '#': /[+7]/\r\n                    }\r\n                },\r\n            ]\r\n        });\r\n    })\r\n});\r\n\r\n\r\n"]}